(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.VueMessageActor=b())})(this,function(){"use strict";function a(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function b(b){for(var c=1;c<arguments.length;c++){var d=null==arguments[c]?{}:arguments[c],e=Object.keys(d);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(d).filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable}))),e.forEach(function(c){a(b,c,d[c])})}return b}//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* style inject */function c(){const a=document.head||document.getElementsByTagName("head")[0],b=c.styles||(c.styles={}),d="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(c,e){if(document.querySelector("style[data-vue-ssr-id~=\""+c+"\"]"))return;// SSR styles are present.
const f=d?e.media||"default":c,g=b[f]||(b[f]={ids:[],parts:[],element:void 0});if(!g.ids.includes(c)){let b=e.source,h=g.ids.length;if(g.ids.push(c),d&&(g.element=g.element||document.querySelector("style[data-group="+f+"]")),!g.element){const b=g.element=document.createElement("style");b.type="text/css",e.media&&b.setAttribute("media",e.media),d&&(b.setAttribute("data-group",f),b.setAttribute("data-next-index","0")),a.appendChild(b)}if(d&&(h=parseInt(g.element.getAttribute("data-next-index")),g.element.setAttribute("data-next-index",h+1)),g.element.styleSheet)g.parts.push(b),g.element.styleSheet.cssText=g.parts.filter(Boolean).join("\n");else{const a=document.createTextNode(b),c=g.element.childNodes;c[h]&&g.element.removeChild(c[h]),c.length?g.element.insertBefore(a,c[h]):g.element.appendChild(a)}}}}/* style inject SSR */ /* style inject */function d(){const a=document.head||document.getElementsByTagName("head")[0],b=d.styles||(d.styles={}),c="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(d,e){if(document.querySelector("style[data-vue-ssr-id~=\""+d+"\"]"))return;// SSR styles are present.
const f=c?e.media||"default":d,g=b[f]||(b[f]={ids:[],parts:[],element:void 0});if(!g.ids.includes(d)){let b=e.source,h=g.ids.length;if(g.ids.push(d),c&&(g.element=g.element||document.querySelector("style[data-group="+f+"]")),!g.element){const b=g.element=document.createElement("style");b.type="text/css",e.media&&b.setAttribute("media",e.media),c&&(b.setAttribute("data-group",f),b.setAttribute("data-next-index","0")),a.appendChild(b)}if(c&&(h=parseInt(g.element.getAttribute("data-next-index")),g.element.setAttribute("data-next-index",h+1)),g.element.styleSheet)g.parts.push(b),g.element.styleSheet.cssText=g.parts.filter(Boolean).join("\n");else{const a=document.createTextNode(b),c=g.element.childNodes;c[h]&&g.element.removeChild(c[h]),c.length?g.element.insertBefore(a,c[h]):g.element.appendChild(a)}}}}/* style inject SSR */var e={name:"Message",props:{ind:{type:Number,default:0},setting:{type:Object,default:null}},mounted:function(){var a=this;this.setting.autoCancel?setTimeout(function(){return a.$emit("x")},this.setting.wateTime||this.setting.waitTime):""}};/* script */ /* template */var f=function(){var a=this,b=a.$createElement,c=a._self._c||b;return c("transition",{attrs:{name:"ain"}},[c("div",{staticClass:"item"},[c("div",{staticClass:"meg",style:{background:a.setting.bgStyle,color:a.setting.messageColor}},[a._t("default"),a._v(" "),c("div",{staticClass:"close-x",on:{click:function(){a.$emit("x")}}})],2)])])};f._withStripped=!0;var g=/* component normalizer */function(a,b,c,d,e,f,g){const h=("function"==typeof c?c.options:c)||{};// For security concerns, we use only base name in production mode.
h.__file="/Users/cainchu/vue-message-actor/src/Message.vue",h.render||(h.render=a.render,h.staticRenderFns=a.staticRenderFns,h._compiled=!0,e&&(h.functional=!0)),h._scopeId=d;{let a;if(b&&(a=function(a){b.call(this,g(a))}),void 0!=a)if(h.functional){// register for functional component in vue file
const b=h.render;h.render=function(c,d){return a.call(d),b(c,d)}}else{// inject component registration as beforeCreate hook
const b=h.beforeCreate;h.beforeCreate=b?[].concat(b,a):[a]}}return h}({render:f,staticRenderFns:[]},function(a){a&&a("data-v-a69f7fa6_0",{source:"\n.item[data-v-a69f7fa6] {\n  height: 25px;\n  margin: 3px auto;\n  position: relative;\n}\n.meg[data-v-a69f7fa6] {\n  position: absolute;\n  top: 0px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 300px;\n  height: 25px;\n  padding: 0px 40px 0px 20px;\n  background: #000c;\n  color: #fff;\n  font-size: 14px;\n  border-radius: 20px;\n  text-align: center;\n  pointer-events: auto;\n  transform: translateX(-50%);\n}\n.close-x[data-v-a69f7fa6] {\n  position: absolute;\n  right: 10px;\n  top: 1px;\n  color: #fff;\n  cursor: pointer;\n}\n.close-x[data-v-a69f7fa6]:before {\n  font-family: 'Courier New', Courier, monospace;\n  color: #fff;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  content: '\\2715'; /* use the hex value here... */\n  line-height: 25px;\n  text-align: center;\n}\n.ain-enter-active[data-v-a69f7fa6],\n.ain-leave-active[data-v-a69f7fa6] {\n  transition: all 0.5s;\n}\n.ain-enter[data-v-a69f7fa6] {\n  opacity: 0;\n  height: 0px;\n}\n.ain-leave-to[data-v-a69f7fa6] {\n  animation-name: out-data-v-a69f7fa6;\n  animation-duration: 1s;\n  animation-timing-function: ease-out;\n}\n@keyframes out-data-v-a69f7fa6 {\n50% {\n    transform: translateX(50%);\n    opacity: 0;\n    height: 25px;\n}\n100% {\n    height: 0;\n    transform: translateX(50%);\n    opacity: 0;\n}\n}\n",map:{version:3,sources:["/Users/cainchu/vue-message-actor/src/Message.vue"],names:[],mappings:";AA4CA;EACA,aAAA;EACA,iBAAA;EACA,mBAAA;CACA;AACA;EACA,mBAAA;EACA,SAAA;EACA,cAAA;EACA,wBAAA;EACA,oBAAA;EACA,iBAAA;EACA,aAAA;EACA,2BAAA;EACA,kBAAA;EACA,YAAA;EACA,gBAAA;EACA,oBAAA;EACA,mBAAA;EACA,qBAAA;EACA,4BAAA;CACA;AACA;EACA,mBAAA;EACA,YAAA;EACA,SAAA;EACA,YAAA;EACA,gBAAA;CACA;AAEA;EACA,+CAAA;EACA,YAAA;EACA,OAAA;EACA,UAAA;EACA,QAAA;EACA,SAAA;EACA,iBAAA,CAAA,+BAAA;EACA,kBAAA;EACA,mBAAA;CACA;AACA;;EAEA,qBAAA;CACA;AACA;EACA,WAAA;EACA,YAAA;CACA;AACA;EACA,oCAAA;EACA,uBAAA;EACA,oCAAA;CACA;AACA;AACA;IACA,2BAAA;IACA,WAAA;IACA,aAAA;CACA;AACA;IACA,UAAA;IACA,2BAAA;IACA,WAAA;CACA;CACA",file:"Message.vue",sourcesContent:["<!--  -->\nimport { connect } from 'http2';\n<template>\n  <transition name=\"ain\">\n    <div class=\"item\">\n      <div\n        class=\"meg\"\n        :style=\"{\n          background: setting.bgStyle,\n          color: setting.messageColor,\n        }\"\n      >\n        <slot />\n        <div class=\"close-x\" @click=\"$emit('x')\"></div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nexport default {\n  name: 'Message',\n  props: {\n    ind: {\n      type: Number,\n      default: 0,\n    },\n    setting: {\n      type: Object,\n      default: null,\n    },\n  },\n  mounted() {\n    this.setting.autoCancel\n      ? setTimeout(\n          () => this.$emit('x'),\n          this.setting.wateTime || this.setting.waitTime,\n        )\n      : ''\n  },\n}\n</script>\n\n<style scoped>\n.item {\n  height: 25px;\n  margin: 3px auto;\n  position: relative;\n}\n.meg {\n  position: absolute;\n  top: 0px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 300px;\n  height: 25px;\n  padding: 0px 40px 0px 20px;\n  background: #000c;\n  color: #fff;\n  font-size: 14px;\n  border-radius: 20px;\n  text-align: center;\n  pointer-events: auto;\n  transform: translateX(-50%);\n}\n.close-x {\n  position: absolute;\n  right: 10px;\n  top: 1px;\n  color: #fff;\n  cursor: pointer;\n}\n\n.close-x:before {\n  font-family: 'Courier New', Courier, monospace;\n  color: #fff;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  content: '\\2715'; /* use the hex value here... */\n  line-height: 25px;\n  text-align: center;\n}\n.ain-enter-active,\n.ain-leave-active {\n  transition: all 0.5s;\n}\n.ain-enter {\n  opacity: 0;\n  height: 0px;\n}\n.ain-leave-to {\n  animation-name: out;\n  animation-duration: 1s;\n  animation-timing-function: ease-out;\n}\n@keyframes out {\n  50% {\n    transform: translateX(50%);\n    opacity: 0;\n    height: 25px;\n  }\n  100% {\n    height: 0;\n    transform: translateX(50%);\n    opacity: 0;\n  }\n}\n</style>\n"]},media:void 0})},e,"data-v-a69f7fa6",!1,void 0,c,void 0),h={name:"MessageActor",components:{Message:g},props:{setting:{type:Object,default:null}},data:function(){return{lastMessage:"",messageQueue:[],key:0}},methods:{pushMessage:function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.key+=1,c=b({},this.setting,c),a!=this.lastMessage&&(this.lastMessage=a,this.messageQueue.push({msg:a,key:this.key,setting:c}))},close:function(a){this.messageQueue.splice(a,1)}}};/* template */var i=function(){var a=this,b=a.$createElement,c=a._self._c||b;return c("div",{attrs:{id:"MessageActor"}},a._l(a.messageQueue,function(b,d){return c("Message",{key:b.key,attrs:{ind:d,setting:b.setting},on:{x:function(){a.close(d)}}},[a._v(a._s(b.meg))])}),1)};i._withStripped=!0;var j=/* component normalizer */function(a,b,c,d,e,f,g){const h=("function"==typeof c?c.options:c)||{};// For security concerns, we use only base name in production mode.
h.__file="/Users/cainchu/vue-message-actor/src/MessageActor.vue",h.render||(h.render=a.render,h.staticRenderFns=a.staticRenderFns,h._compiled=!0,e&&(h.functional=!0)),h._scopeId=d;{let a;if(b&&(a=function(a){b.call(this,g(a))}),void 0!=a)if(h.functional){// register for functional component in vue file
const b=h.render;h.render=function(c,d){return a.call(d),b(c,d)}}else{// inject component registration as beforeCreate hook
const b=h.beforeCreate;h.beforeCreate=b?[].concat(b,a):[a]}}return h}({render:i,staticRenderFns:[]},function(a){a&&a("data-v-1bf142f3_0",{source:"\n#MessageActor {\n  transform: translateX(50%);\n  position: fixed;\n  width: 100%;\n  pointer-events: none;\n  bottom: 20px;\n}\n",map:{version:3,sources:["/Users/cainchu/vue-message-actor/src/MessageActor.vue"],names:[],mappings:";AAwDA;EACA,2BAAA;EACA,gBAAA;EACA,YAAA;EACA,qBAAA;EACA,aAAA;CACA",file:"MessageActor.vue",sourcesContent:["<!-- Meaasge -->\n<template>\n  <div id=\"MessageActor\">\n    <Message\n      v-for=\"(message, index) in messageQueue\"\n      :key=\"message.key\"\n      :ind=\"index\"\n      :setting=\"message.setting\"\n      @x=\"close(index)\"\n      >{{ message.meg }}</Message\n    >\n  </div>\n</template>\n\n<script>\nimport Message from './Message.vue'\n\nexport default {\n  name: 'MessageActor',\n  components: {\n    Message,\n  },\n  props: {\n    setting: {\n      type: Object,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      lastMessage: '',\n      messageQueue: [],\n      key: 0,\n    }\n  },\n  methods: {\n    pushMessage(msg = '', setting = {}) {\n      this.key += 1\n      setting = {\n        ...this.setting,\n        ...setting,\n      }\n      if (msg != this.lastMessage) {\n        /* Do not send repeatedly */\n        this.lastMessage = msg\n        this.messageQueue.push({ msg, key: this.key, setting })\n      }\n    },\n    close(ind) {\n      this.messageQueue.splice(ind, 1)\n    },\n  },\n}\n</script>\n\n<style>\n#MessageActor {\n  transform: translateX(50%);\n  position: fixed;\n  width: 100%;\n  pointer-events: none;\n  bottom: 20px;\n}\n</style>\n"]},media:void 0})},h,void 0,!1,void 0,d,void 0);return{install:function(a){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};c=b({autoCancel:!0/* 自動關閉 */,waitTime:5e3/* 等待時間 */,bgStyle:"#000"/* 背景色 */,messageColor:"#fff"/* 文字色 */},c);var d=a.extend(j),e=new d;e.setting=c;var f=e.$mount().$el;document.body.appendChild(f),a.prototype.$pushMessage=e.pushMessage}}});
